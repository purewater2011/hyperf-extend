<?php

declare(strict_types=1);
/**
 * This file is part of hyperf server projects.
 */
namespace Hyperf\Extend\Utils;


class StringUtil
{
    /**
     * æŠŠé€—å·åˆ†éš”çš„å­—ç¬¦ä¸²è½¬åŒ–ä¸ºæ•´å‹æ•°ç»„.
     * @return int[]
     */
    public static function convertCommaStringToIntArray(?string $str): array
    {
        if (empty($str)) {
            return [];
        }
        $str = str_replace('ï¼Œ', ',', $str);
        $ids = [];
        foreach (explode(',', $str) as $id) {
            if ($id === '') {
                continue;
            }
            $ids[] = intval($id);
        }
        return $ids;
    }

    /**
     * æ˜¯å¦åŒ…å«ä¸­æ–‡å­—ç¬¦.
     */
    public static function hasChineseCharacter(?string $string): bool
    {
        if (!$string) {
            return false;
        }
        $pattern = '/[\x{4e00}-\x{9fa5}]+/u';
        if (preg_match($pattern, $string)) {
            return true;
        }
        return false;
    }

    /**
     * å»é™¤Emojiè¡¨æƒ…
     * æ­£åˆ™æ›´æ–°:https://github.com/joypixels/emoji-toolkit/blob/master/lib/php/src/JoyPixels.php
     * æ³¨æ„1ï¼šunicodeå®˜æ–¹æ–‡æ¡£é‡Œé¢æŠŠ#,* 0-9çš„ç ç‚¹æ ‡è®°ä¸ºemojiäº†ï¼Œæ­£åˆ™æ¥æºä»£ç ä¸­åŒæ ·å»é™¤äº†[\x{0023}-\x{002a}],[\x{0030}-\x{0039}]\x{FE0F}æ³¨æ„åˆ é™¤
     * æ³¨æ„2ï¼šæœ‰äº›ä½¿ç”¨äº†é›¶ç­‰ç¬¦å·(200D)ç­‰ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨æ­£åˆ™å»é™¤ï¼Œéœ€è¦æŒ‰ç…§é¡ºåºç»„åˆå»é™¤ï¼Œå› ä¸ºé˜¿æ‹‰ä¼¯è¯­ç­‰è¯­è¨€ä¸­ä¹Ÿä¼šä½¿ç”¨è¯¥ç‰¹æ®Šç¬¦å·
     * ç ç‚¹å‚è€ƒï¼šhttps://unicode.org/Public/emoji/
     * ç ç‚¹å‚è€ƒï¼šhttps://zh.wikipedia.org/wiki/Unicode%E4%B8%80%E8%A6%BD%E8%A1%A8_1000-1FFF.
     * @param string $str æ–‡æœ¬å†…å®¹
     * @param string $replacement è¿ç»­è¡¨æƒ…è¢«æ›¿æ¢ä¸ºç©ºã€ç©ºæ ¼ç­‰
     */
    public static function removeEmoji(string $str, $replacement = ' '): string
    {
        $temp_replacement = 'ğŸ˜€'; //é˜²æ­¢æ­£å¸¸å­—ç¬¦è¢«æ›¿æ¢
        $unicodeRegexp = '/(?:\x{1f9d1}[\x{1f3fb}-\x{1f3ff}]?\x{200d}\x{1f91d}\x{200d}\x{1f9d1}[\x{1f3fb}-\x{1f3ff}]?)|(?:[\x{1F3F3}|\x{1F3F4}]\x{FE0F}?\x{200D}?[\x{1F308}|\x{2620}]\x{FE0F}?)|(?:\x{1F441}\x{FE0F}?\x{200D}?\x{1F5E8}\x{FE0F}?)|(?:[\x{1f468}|\x{1f469}]\x{200d}\x{2764}\x{fe0f}?\x{200d}[\x{1f48b}\x{200d}]*[\x{1f468}|\x{1f469}])|(?:[\x{1f468}|\x{1f469}]\x{200d}[\x{1f468}|\x{1f469}]\x{200d}[\x{1f466}|\x{1f467}]\x{200d}[\x{1f466}|\x{1f467}])|(?:[\x{1f468}|\x{1f469}]\x{200d}[\x{1f466}|\x{1f467}]\x{200d}[\x{1f466}|\x{1f467}])|(?:[\x{1f468}|\x{1f469}]\x{200d}[\x{1f468}|\x{1f469}]\x{200d}[\x{1f466}|\x{1f467}])|(?:[\x{1f468}|\x{1f469}]\x{200d}[\x{1f466}|\x{1f467}])|(?:[\x{1F9B8}|\x{1F9B9}]+[\x{1F3FB}-\x{1F3FF}]?\x{200D}[\x{2640}-\x{2642}]?\x{FE0F}?)|(?:[\x{1F468}|\x{1F469}]+[\x{1F3FB}-\x{1F3FF}]?\x{200D}[\x{1F9B0}-\x{1F9B3}]+\x{FE0F}?)|[\x{0023}-\x{0039}]\x{FE0F}?\x{20e3}|(?:\x{1F3F4}[\x{E0060}-\x{E00FF}]{1,6})|[\x{1F1E0}-\x{1F1FF}]{2}|(?:[\x{1F468}|\x{1F469}]\x{FE0F}?[\x{1F3FB}-\x{1F3FF}]?\x{200D}?[\x{2695}|\x{2696}|\x{2708}|\x{1F4BB}|\x{1F4BC}|\x{1F527}|\x{1F52C}|\x{1F680}|\x{1F692}|\x{1F33E}|\x{1F3EB}|\x{1F3EC}|\x{1f373}|\x{1f393}|\x{1f3a4}|\x{1f3ed}|\x{1f3a8}]\x{FE0F}?)|[\x{1F468}-\x{1F469}\x{1F9D0}-\x{1F9DF}][\x{1F3FA}-\x{1F3FF}]?\x{200D}?[\x{2640}\x{2642}\x{2695}\x{2696}\x{2708}]?\x{FE0F}?|(?:[\x{1F9B5}|\x{1F9B6}]+[\x{1F3FB}-\x{1F3FF}]+)|(?:[\x{1f46e}\x{1F468}\x{1F469}\x{1f575}\x{1f471}-\x{1f487}\x{1F645}-\x{1F64E}\x{1F926}\x{1F937}]|[\x{1F460}-\x{1F482}\x{1F3C3}-\x{1F3CC}\x{26F9}\x{1F486}\x{1F487}\x{1F6A3}-\x{1F6B6}\x{1F938}-\x{1F93E}]|\x{1F46F})\x{FE0F}?[\x{1F3FA}-\x{1F3FF}]?\x{200D}?[\x{2640}\x{2642}]?\x{FE0F}?|(?:[\x{26F9}\x{261D}\x{270A}-\x{270D}\x{1F385}-\x{1F3CC}\x{1F442}-\x{1F4AA}\x{1F574}-\x{1F596}\x{1F645}-\x{1F64F}\x{1F6A3}-\x{1F6CC}\x{1F918}-\x{1F93E}]\x{FE0F}?[\x{1F3FA}-\x{1F3FF}])|(?:[\x{2194}-\x{2199}\x{21a9}-\x{21aa}]\x{FE0F}?|[\x{3030}\x{303d}]\x{FE0F}?|(?:[\x{1F170}-\x{1F171}]|[\x{1F17E}-\x{1F17F}]|\x{1F18E}|[\x{1F191}-\x{1F19A}]|[\x{1F1E6}-\x{1F1FF}])\x{FE0F}?|\x{24c2}\x{FE0F}?|[\x{3297}\x{3299}]\x{FE0F}?|(?:[\x{1F201}-\x{1F202}]|\x{1F21A}|\x{1F22F}|[\x{1F232}-\x{1F23A}]|[\x{1F250}-\x{1F251}])\x{FE0F}?|[\x{203c}\x{2049}]\x{FE0F}?|[\x{25aa}-\x{25ab}\x{25b6}\x{25c0}\x{25fb}-\x{25fe}]\x{FE0F}?|[\x{00a9}\x{00ae}]\x{FE0F}?|[\x{2122}\x{2139}]\x{FE0F}?|\x{1F004}\x{FE0F}?|[\x{2b05}-\x{2b07}\x{2b1b}-\x{2b1c}\x{2b50}\x{2b55}]\x{FE0F}?|[\x{231a}-\x{231b}\x{2328}\x{23cf}\x{23e9}-\x{23f3}\x{23f8}-\x{23fa}]\x{FE0F}?|\x{1F0CF}|[\x{2934}\x{2935}]\x{FE0F}?)|[\x{2700}-\x{27bf}]\x{FE0F}?|[\x{1F000}-\x{1F6FF}\x{1F900}-\x{1F9FF}]\x{FE0F}?|[\x{2600}-\x{26ff}]\x{FE0F}?|(?:[\x{1F466}-\x{1F469}]+\x{FE0F}?[\x{1F3FB}-\x{1F3FF}]?)/ui';
        $str = preg_replace($unicodeRegexp, $temp_replacement, $str);
        return preg_replace('/ğŸ˜€+/u', $replacement, $str);
    }

    /**
     * å°†å­—ç¬¦ä¸²ä¸­éæ ‡å‡†è‹±æ–‡å­—ç¬¦è½¬ä¸ºæ ‡å‡†å­—ç¬¦.
     */
    public static function convertToStandardCharacter(string $word): string
    {
        $upper_a2z = [
            'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N',
            'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z',
        ];
        $lower_a2z = [
            'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n',
            'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z',
        ];

        $word = str_replace([
            'â’¶', 'â’·', 'â’¸', 'â’¹', 'â’º', 'â’»', 'â’¼', 'â’½', 'â’¾', 'â’¿', 'â“€', 'â“', 'â“‚', 'â“ƒ',
            'â“„', 'â“…', 'â“†', 'â“‡', 'â“ˆ', 'â“‰', 'â“Š', 'â“‹', 'â“Œ', 'â“', 'â“', 'â“',
        ], $upper_a2z, $word);
        $word = str_replace([
            'â“', 'â“‘', 'â“’', 'â““', 'â“”', 'â“•', 'â“–', 'â“—', 'â“˜', 'â“™', 'â“š', 'â“›', 'â“œ', 'â“',
            'â“', 'â“Ÿ', 'â“ ', 'â“¡', 'â“¢', 'â“£', 'â“¤', 'â“¥', 'â“¦', 'â“§', 'â“¨', 'â“©',
        ], $lower_a2z, $word);
        $word = str_replace([
            'ğŸ…', 'ğŸ…‘', 'ğŸ…’', 'ğŸ…“', 'ğŸ…”', 'ğŸ…•', 'ğŸ…–', 'ğŸ…—', 'ğŸ…˜', 'ğŸ…™', 'ğŸ…š', 'ğŸ…›', 'ğŸ…œ', 'ğŸ…',
            'ğŸ…', 'ğŸ…Ÿ', 'ğŸ… ', 'ğŸ…¡', 'ğŸ…¢', 'ğŸ…£', 'ğŸ…¤', 'ğŸ…¥', 'ğŸ…¦', 'ğŸ…§', 'ğŸ…¨', 'ğŸ…©',
        ], $upper_a2z, $word);
        $word = str_replace([
            'ğŸ„°', 'ğŸ„±', 'ğŸ„²', 'ğŸ„³', 'ğŸ„´', 'ğŸ„µ', 'ğŸ„¶', 'ğŸ„·', 'ğŸ„¸', 'ğŸ„¹', 'ğŸ„º', 'ğŸ„»', 'ğŸ„¼', 'ğŸ„½',
            'ğŸ„¾', 'ğŸ„¿', 'ğŸ…€', 'ğŸ…', 'ğŸ…‚', 'ğŸ…ƒ', 'ğŸ…„', 'ğŸ……', 'ğŸ…†', 'ğŸ…‡', 'ğŸ…ˆ', 'ğŸ…‰',
        ], $upper_a2z, $word);
        $word = str_replace([
            'ğŸ…°', 'ğŸ…±', 'ğŸ…²', 'ğŸ…³', 'ğŸ…´', 'ğŸ…µ', 'ğŸ…¶', 'ğŸ…·', 'ğŸ…¸', 'ğŸ…¹', 'ğŸ…º', 'ğŸ…»', 'ğŸ…¼', 'ğŸ…½',
            'ğŸ…¾', 'ğŸ…¿', 'ğŸ†€', 'ğŸ†', 'ğŸ†‚', 'ğŸ†ƒ', 'ğŸ†„', 'ğŸ†…', 'ğŸ††', 'ğŸ†‡', 'ğŸ†ˆ', 'ğŸ†‰',
        ], $upper_a2z, $word);
        $word = str_replace([
            'ğŸ„', 'ğŸ„‘', 'ğŸ„’', 'ğŸ„“', 'ğŸ„”', 'ğŸ„•', 'ğŸ„–', 'ğŸ„—', 'ğŸ„˜', 'ğŸ„™', 'ğŸ„š', 'ğŸ„›', 'ğŸ„œ', 'ğŸ„',
            'ğŸ„', 'ğŸ„Ÿ', 'ğŸ„ ', 'ğŸ„¡', 'ğŸ„¢', 'ğŸ„£', 'ğŸ„¤', 'ğŸ„¥', 'ğŸ„¦', 'ğŸ„§', 'ğŸ„¨', 'ğŸ„©',
        ], $upper_a2z, $word);
        $word = str_replace([
            'â’œ', 'â’', 'â’', 'â’Ÿ', 'â’ ', 'â’¡', 'â’¢', 'â’£', 'â’¤', 'â’¥', 'â’¦', 'â’§', 'â’¨', 'â’©',
            'â’ª', 'â’«', 'â’¬', 'â’­', 'â’®', 'â’¯', 'â’°', 'â’±', 'â’²', 'â’³', 'â’´', 'â’µ',
        ], $lower_a2z, $word);

        //U+1D400 - U+1D419
        $word = str_replace([
            'ğ€', 'ğ', 'ğ‚', 'ğƒ', 'ğ„', 'ğ…', 'ğ†', 'ğ‡', 'ğˆ', 'ğ‰', 'ğŠ', 'ğ‹', 'ğŒ', 'ğ',
            'ğ', 'ğ', 'ğ', 'ğ‘', 'ğ’', 'ğ“', 'ğ”', 'ğ•', 'ğ–', 'ğ—', 'ğ˜', 'ğ™',
        ], $upper_a2z, $word);
        //U+1D41A - U+1D433
        $word = str_replace([
            'ğš', 'ğ›', 'ğœ', 'ğ', 'ğ', 'ğŸ', 'ğ ', 'ğ¡', 'ğ¢', 'ğ£', 'ğ¤', 'ğ¥', 'ğ¦', 'ğ§',
            'ğ¨', 'ğ©', 'ğª', 'ğ«', 'ğ¬', 'ğ­', 'ğ®', 'ğ¯', 'ğ°', 'ğ±', 'ğ²', 'ğ³',
        ], $lower_a2z, $word);
        //U+1D434 - U+1D44D
        $word = str_replace([
            'ğ´', 'ğµ', 'ğ¶', 'ğ·', 'ğ¸', 'ğ¹', 'ğº', 'ğ»', 'ğ¼', 'ğ½', 'ğ¾', 'ğ¿', 'ğ‘€', 'ğ‘',
            'ğ‘‚', 'ğ‘ƒ', 'ğ‘„', 'ğ‘…', 'ğ‘†', 'ğ‘‡', 'ğ‘ˆ', 'ğ‘‰', 'ğ‘Š', 'ğ‘‹', 'ğ‘Œ', 'ğ‘',
        ], $upper_a2z, $word);
        //U+1D44E - U+1D467 (ä¿ç•™åœ°å€:h)
        $word = str_replace([
            'ğ‘', 'ğ‘', 'ğ‘', 'ğ‘‘', 'ğ‘’', 'ğ‘“', 'ğ‘”', 'ğ‘•', 'ğ‘–', 'ğ‘—', 'ğ‘˜', 'ğ‘™', 'ğ‘š', 'ğ‘›',
            'ğ‘œ', 'ğ‘', 'ğ‘', 'ğ‘Ÿ', 'ğ‘ ', 'ğ‘¡', 'ğ‘¢', 'ğ‘£', 'ğ‘¤', 'ğ‘¥', 'ğ‘¦', 'ğ‘§',
        ], $lower_a2z, $word);
        //U+1D468 - U+1D481
        $word = str_replace([
            'ğ‘¨', 'ğ‘©', 'ğ‘ª', 'ğ‘«', 'ğ‘¬', 'ğ‘­', 'ğ‘®', 'ğ‘¯', 'ğ‘°', 'ğ‘±', 'ğ‘²', 'ğ‘³', 'ğ‘´', 'ğ‘µ',
            'ğ‘¶', 'ğ‘·', 'ğ‘¸', 'ğ‘¹', 'ğ‘º', 'ğ‘»', 'ğ‘¼', 'ğ‘½', 'ğ‘¾', 'ğ‘¿', 'ğ’€', 'ğ’',
        ], $upper_a2z, $word);
        //U+1D482 - U+1D49B
        $word = str_replace([
            'ğ’‚', 'ğ’ƒ', 'ğ’„', 'ğ’…', 'ğ’†', 'ğ’‡', 'ğ’ˆ', 'ğ’‰', 'ğ’Š', 'ğ’‹', 'ğ’Œ', 'ğ’', 'ğ’', 'ğ’',
            'ğ’', 'ğ’‘', 'ğ’’', 'ğ’“', 'ğ’”', 'ğ’•', 'ğ’–', 'ğ’—', 'ğ’˜', 'ğ’™', 'ğ’š', 'ğ’›',
        ], $lower_a2z, $word);
        //U+1D49C - U+1D4B5 (ä¿ç•™åœ°å€:B,E,F,H,I,L,M,R)
        $word = str_replace([
            'ğ’œ', 'ğ’', 'ğ’', 'ğ’Ÿ', 'ğ’ ', 'ğ’¡', 'ğ’¢', 'ğ’£', 'ğ’¤', 'ğ’¥', 'ğ’¦', 'ğ’§', 'ğ’¨', 'ğ’©',
            'ğ’ª', 'ğ’«', 'ğ’¬', 'ğ’­', 'ğ’®', 'ğ’¯', 'ğ’°', 'ğ’±', 'ğ’²', 'ğ’³', 'ğ’´', 'ğ’µ',
        ], $upper_a2z, $word);
        //U+1D4B6 - U+1D4CF (ä¿ç•™åœ°å€:e,g,o)
        $word = str_replace([
            'ğ’¶', 'ğ’·', 'ğ’¸', 'ğ’¹', 'ğ’º', 'ğ’»', 'ğ’¼', 'ğ’½', 'ğ’¾', 'ğ’¿', 'ğ“€', 'ğ“', 'ğ“‚', 'ğ“ƒ',
            'ğ“„', 'ğ“…', 'ğ“†', 'ğ“‡', 'ğ“ˆ', 'ğ“‰', 'ğ“Š', 'ğ“‹', 'ğ“Œ', 'ğ“', 'ğ“', 'ğ“',
        ], $lower_a2z, $word);
        //U+1D4D0 - U+1D4E9
        $word = str_replace([
            'ğ“', 'ğ“‘', 'ğ“’', 'ğ““', 'ğ“”', 'ğ“•', 'ğ“–', 'ğ“—', 'ğ“˜', 'ğ“™', 'ğ“š', 'ğ“›', 'ğ“œ', 'ğ“',
            'ğ“', 'ğ“Ÿ', 'ğ“ ', 'ğ“¡', 'ğ“¢', 'ğ“£', 'ğ“¤', 'ğ“¥', 'ğ“¦', 'ğ“§', 'ğ“¨', 'ğ“©',
        ], $upper_a2z, $word);
        //U+1D4EA - U+1D503
        $word = str_replace([
            'ğ“ª', 'ğ“«', 'ğ“¬', 'ğ“­', 'ğ“®', 'ğ“¯', 'ğ“°', 'ğ“±', 'ğ“²', 'ğ“³', 'ğ“´', 'ğ“µ', 'ğ“¶', 'ğ“·',
            'ğ“¸', 'ğ“¹', 'ğ“º', 'ğ“»', 'ğ“¼', 'ğ“½', 'ğ“¾', 'ğ“¿', 'ğ”€', 'ğ”', 'ğ”‚', 'ğ”ƒ',
        ], $lower_a2z, $word);
        //U+1D504 - U+1D51D (ä¿ç•™åœ°å€:C,H,I,R,Z)
        $word = str_replace([
            'ğ”„', 'ğ”…', 'ğ”†', 'ğ”‡', 'ğ”ˆ', 'ğ”‰', 'ğ”Š', 'ğ”‹', 'ğ”Œ', 'ğ”', 'ğ”', 'ğ”', 'ğ”', 'ğ”‘',
            'ğ”’', 'ğ”“', 'ğ””', 'ğ”•', 'ğ”–', 'ğ”—', 'ğ”˜', 'ğ”™', 'ğ”š', 'ğ”›', 'ğ”œ', 'ğ”',
        ], $upper_a2z, $word);
        //U+1D51E - U+1D537
        $word = str_replace([
            'ğ”', 'ğ”Ÿ', 'ğ” ', 'ğ”¡', 'ğ”¢', 'ğ”£', 'ğ”¤', 'ğ”¥', 'ğ”¦', 'ğ”§', 'ğ”¨', 'ğ”©', 'ğ”ª', 'ğ”«',
            'ğ”¬', 'ğ”­', 'ğ”®', 'ğ”¯', 'ğ”°', 'ğ”±', 'ğ”²', 'ğ”³', 'ğ”´', 'ğ”µ', 'ğ”¶', 'ğ”·',
        ], $lower_a2z, $word);
        //U+1D538 - U+1D551 (ä¿ç•™åœ°å€:C,H,N,P,Q,R,Z)
        $word = str_replace([
            'ğ”¸', 'ğ”¹', 'ğ”º', 'ğ”»', 'ğ”¼', 'ğ”½', 'ğ”¾', 'ğ”¿', 'ğ•€', 'ğ•', 'ğ•‚', 'ğ•ƒ', 'ğ•„', 'ğ•…',
            'ğ•†', 'ğ•‡', 'ğ•ˆ', 'ğ•‰', 'ğ•Š', 'ğ•‹', 'ğ•Œ', 'ğ•', 'ğ•', 'ğ•', 'ğ•', 'ğ•‘',
        ], $upper_a2z, $word);
        //U+1D552 - U+1D56B
        $word = str_replace([
            'ğ•’', 'ğ•“', 'ğ•”', 'ğ••', 'ğ•–', 'ğ•—', 'ğ•˜', 'ğ•™', 'ğ•š', 'ğ•›', 'ğ•œ', 'ğ•', 'ğ•', 'ğ•Ÿ',
            'ğ• ', 'ğ•¡', 'ğ•¢', 'ğ•£', 'ğ•¤', 'ğ•¥', 'ğ•¦', 'ğ•§', 'ğ•¨', 'ğ•©', 'ğ•ª', 'ğ•«',
        ], $lower_a2z, $word);
        //U+1D56C - U+1D585
        $word = str_replace([
            'ğ•¬', 'ğ•­', 'ğ•®', 'ğ•¯', 'ğ•°', 'ğ•±', 'ğ•²', 'ğ•³', 'ğ•´', 'ğ•µ', 'ğ•¶', 'ğ•·', 'ğ•¸', 'ğ•¹',
            'ğ•º', 'ğ•»', 'ğ•¼', 'ğ•½', 'ğ•¾', 'ğ•¿', 'ğ–€', 'ğ–', 'ğ–‚', 'ğ–ƒ', 'ğ–„', 'ğ–…',
        ], $upper_a2z, $word);
        //U+1D586 - U+1D59F
        $word = str_replace([
            'ğ–†', 'ğ–‡', 'ğ–ˆ', 'ğ–‰', 'ğ–Š', 'ğ–‹', 'ğ–Œ', 'ğ–', 'ğ–', 'ğ–', 'ğ–', 'ğ–‘', 'ğ–’', 'ğ–“',
            'ğ–”', 'ğ–•', 'ğ––', 'ğ–—', 'ğ–˜', 'ğ–™', 'ğ–š', 'ğ–›', 'ğ–œ', 'ğ–', 'ğ–', 'ğ–Ÿ',
        ], $lower_a2z, $word);
        //U+1D5A0 - U+1D5B9
        $word = str_replace([
            'ğ– ', 'ğ–¡', 'ğ–¢', 'ğ–£', 'ğ–¤', 'ğ–¥', 'ğ–¦', 'ğ–§', 'ğ–¨', 'ğ–©', 'ğ–ª', 'ğ–«', 'ğ–¬', 'ğ–­',
            'ğ–®', 'ğ–¯', 'ğ–°', 'ğ–±', 'ğ–²', 'ğ–³', 'ğ–´', 'ğ–µ', 'ğ–¶', 'ğ–·', 'ğ–¸', 'ğ–¹',
        ], $upper_a2z, $word);
        //U+1D5BA - U+1D5D3
        $word = str_replace([
            'ğ–º', 'ğ–»', 'ğ–¼', 'ğ–½', 'ğ–¾', 'ğ–¿', 'ğ—€', 'ğ—', 'ğ—‚', 'ğ—ƒ', 'ğ—„', 'ğ—…', 'ğ—†', 'ğ—‡',
            'ğ—ˆ', 'ğ—‰', 'ğ—Š', 'ğ—‹', 'ğ—Œ', 'ğ—', 'ğ—', 'ğ—', 'ğ—', 'ğ—‘', 'ğ—’', 'ğ—“',
        ], $lower_a2z, $word);
        //U+1D5D4 - U+1D5ED
        $word = str_replace([
            'ğ—”', 'ğ—•', 'ğ—–', 'ğ——', 'ğ—˜', 'ğ—™', 'ğ—š', 'ğ—›', 'ğ—œ', 'ğ—', 'ğ—', 'ğ—Ÿ', 'ğ— ', 'ğ—¡',
            'ğ—¢', 'ğ—£', 'ğ—¤', 'ğ—¥', 'ğ—¦', 'ğ—§', 'ğ—¨', 'ğ—©', 'ğ—ª', 'ğ—«', 'ğ—¬', 'ğ—­',
        ], $upper_a2z, $word);
        //U+1D5EE - U+1D607
        $word = str_replace([
            'ğ—®', 'ğ—¯', 'ğ—°', 'ğ—±', 'ğ—²', 'ğ—³', 'ğ—´', 'ğ—µ', 'ğ—¶', 'ğ—·', 'ğ—¸', 'ğ—¹', 'ğ—º', 'ğ—»',
            'ğ—¼', 'ğ—½', 'ğ—¾', 'ğ—¿', 'ğ˜€', 'ğ˜', 'ğ˜‚', 'ğ˜ƒ', 'ğ˜„', 'ğ˜…', 'ğ˜†', 'ğ˜‡',
        ], $lower_a2z, $word);
        //U+1D608 - U+1D621
        $word = str_replace([
            'ğ˜ˆ', 'ğ˜‰', 'ğ˜Š', 'ğ˜‹', 'ğ˜Œ', 'ğ˜', 'ğ˜', 'ğ˜', 'ğ˜', 'ğ˜‘', 'ğ˜’', 'ğ˜“', 'ğ˜”', 'ğ˜•',
            'ğ˜–', 'ğ˜—', 'ğ˜˜', 'ğ˜™', 'ğ˜š', 'ğ˜›', 'ğ˜œ', 'ğ˜', 'ğ˜', 'ğ˜Ÿ', 'ğ˜ ', 'ğ˜¡',
        ], $upper_a2z, $word);
        //U+1D622 - U+1D63B
        $word = str_replace([
            'ğ˜¢', 'ğ˜£', 'ğ˜¤', 'ğ˜¥', 'ğ˜¦', 'ğ˜§', 'ğ˜¨', 'ğ˜©', 'ğ˜ª', 'ğ˜«', 'ğ˜¬', 'ğ˜­', 'ğ˜®', 'ğ˜¯',
            'ğ˜°', 'ğ˜±', 'ğ˜²', 'ğ˜³', 'ğ˜´', 'ğ˜µ', 'ğ˜¶', 'ğ˜·', 'ğ˜¸', 'ğ˜¹', 'ğ˜º', 'ğ˜»',
        ], $lower_a2z, $word);
        //U+1D63C - U+1D655
        $word = str_replace([
            'ğ˜¼', 'ğ˜½', 'ğ˜¾', 'ğ˜¿', 'ğ™€', 'ğ™', 'ğ™‚', 'ğ™ƒ', 'ğ™„', 'ğ™…', 'ğ™†', 'ğ™‡', 'ğ™ˆ', 'ğ™‰',
            'ğ™Š', 'ğ™‹', 'ğ™Œ', 'ğ™', 'ğ™', 'ğ™', 'ğ™', 'ğ™‘', 'ğ™’', 'ğ™“', 'ğ™”', 'ğ™•',
        ], $upper_a2z, $word);
        //U+1D656 - U+1D66F
        $word = str_replace([
            'ğ™–', 'ğ™—', 'ğ™˜', 'ğ™™', 'ğ™š', 'ğ™›', 'ğ™œ', 'ğ™', 'ğ™', 'ğ™Ÿ', 'ğ™ ', 'ğ™¡', 'ğ™¢', 'ğ™£',
            'ğ™¤', 'ğ™¥', 'ğ™¦', 'ğ™§', 'ğ™¨', 'ğ™©', 'ğ™ª', 'ğ™«', 'ğ™¬', 'ğ™­', 'ğ™®', 'ğ™¯',
        ], $lower_a2z, $word);
        //U+1D670 - U+1D689
        $word = str_replace([
            'ğ™°', 'ğ™±', 'ğ™²', 'ğ™³', 'ğ™´', 'ğ™µ', 'ğ™¶', 'ğ™·', 'ğ™¸', 'ğ™¹', 'ğ™º', 'ğ™»', 'ğ™¼', 'ğ™½',
            'ğ™¾', 'ğ™¿', 'ğš€', 'ğš', 'ğš‚', 'ğšƒ', 'ğš„', 'ğš…', 'ğš†', 'ğš‡', 'ğšˆ', 'ğš‰',
        ], $upper_a2z, $word);
        //U+1D68A - U+1D6A3
        return str_replace([
            'ğšŠ', 'ğš‹', 'ğšŒ', 'ğš', 'ğš', 'ğš', 'ğš', 'ğš‘', 'ğš’', 'ğš“', 'ğš”', 'ğš•', 'ğš–', 'ğš—',
            'ğš˜', 'ğš™', 'ğšš', 'ğš›', 'ğšœ', 'ğš', 'ğš', 'ğšŸ', 'ğš ', 'ğš¡', 'ğš¢', 'ğš£',
        ], $lower_a2z, $word);
    }

    /**
     * éšè—é‚®ç®±å’Œæ‰‹æœºå·ç­‰.
     */
    public static function hideStar(?string $str): ?string
    {
        if (empty($str)) {
            return $str;
        }
        if (strpos($str, '@')) {
            $email_array = explode('@', $str);
            $prev_str = (strlen($email_array[0]) < 4) ? '' : substr($str, 0, 3); //é‚®ç®±å‰ç¼€
            $count = 0;
            $str = preg_replace('/([^@]+)@/', '***@', $str, -1, $count);
            $res = $prev_str . $str;
        } else {
            if (strlen($str) > 6) {
                $res = substr($str, 0, 3) . '***' . substr($str, -3);
            } elseif (strlen($str) > 3) {
                $res = substr($str, 0, 3) . '***';
            } else {
                $res = $str;
            }
        }
        return $res;
    }
}
